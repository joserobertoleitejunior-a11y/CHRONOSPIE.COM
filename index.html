<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ChronosPie - realme Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --realme-yellow: #ffc915; --realme-bg: #000000; }
        body { background: var(--realme-bg); color: #ffffff; font-family: sans-serif; }
        .realme-card { background: #111; border-radius: 24px; border: 1px solid #222; }
        .btn-realme { background: var(--realme-yellow); color: #000; font-weight: 800; border-radius: 16px; }
        .input-realme { background: #0a0a0a; border: 1px solid #222; border-radius: 14px; padding: 12px; color: white; width: 100%; outline: none; }
        .page { display: none; }
        .page.active { display: block; }
    </style>
</head>
<body class="min-h-screen pb-24">

    <header class="p-6 flex justify-between items-center max-w-md mx-auto">
        <h1 class="text-xl font-black italic">realme <span class="text-[#ffc915]">Chronos</span></h1>
        <div class="w-8 h-8 rounded-lg bg-[#ffc915] flex items-center justify-center text-black font-black">R</div>
    </header>

    <main class="max-w-md mx-auto px-4">
        <section id="page-app" class="page active space-y-6">
            <div class="realme-card p-8 text-center relative">
                <canvas id="chart" class="mx-auto" style="max-width: 180px;"></canvas>
                <p id="pct" class="text-4xl font-black mt-4">0%</p>
                <p class="text-[10px] text-[#ffc915] font-bold uppercase tracking-widest">Eficiência Diária</p>
            </div>

            <div class="realme-card p-6 space-y-4">
                <input type="text" id="taskName" placeholder="Atividade..." class="input-realme">
                <div class="grid grid-cols-2 gap-2">
                    <input type="number" id="h" placeholder="Horas" class="input-realme text-center">
                    <input type="number" id="m" placeholder="Min" class="input-realme text-center">
                </div>
                <button onclick="add()" class="btn-realme w-full py-4 uppercase text-xs">Sincronizar</button>
            </div>
            <div id="list" class="space-y-3"></div>
        </section>

        <section id="page-pro" class="page">
            <div class="realme-card p-8 text-center space-y-6">
                <h3 class="text-[#ffc915] font-black uppercase italic">Auditoria de Sistema</h3>
                <p class="text-sm text-gray-400">Ative o protocolo para análise de dados via PIX.</p>
                <div class="bg-black p-6 rounded-2xl border border-white/5">
                    <p class="text-xs text-gray-500 mb-2 uppercase font-bold">Chave PIX</p>
                    <p class="text-lg font-mono font-bold">42613586893</p>
                    <button onclick="alert('Copiado!')" class="mt-4 w-full bg-white text-black py-2 rounded-lg font-bold text-xs uppercase">Copiar Chave</button>
                </div>
            </div>
        </section>
    </main>

    <nav class="fixed bottom-6 left-6 right-6 h-16 bg-[#111] border border-white/5 rounded-[2rem] flex justify-around items-center z-50 shadow-2xl">
        <button onclick="tab('page-app')" class="text-[#ffc915] text-[10px] font-black uppercase">Home</button>
        <button onclick="tab('page-pro')" class="text-gray-600 text-[10px] font-black uppercase">Audit</button>
    </nav>

    <script>
        let data = [];
        let chart;

        function tab(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function add() {
            const n = document.getElementById('taskName').value;
            const h = parseInt(document.getElementById('h').value || 0), m = parseInt(document.getElementById('m').value || 0);
            if(n && (h+m)>0) {
                data.push({n, v: (h*60)+m});
                render();
            }
        }

        function render() {
            const list = document.getElementById('list'); list.innerHTML = '';
            let total = data.reduce((s, a) => s + a.v, 0);
            document.getElementById('pct').innerText = Math.min(100, (total/14.4)).toFixed(0) + '%';
            data.slice().reverse().forEach(item => {
                list.innerHTML += `<div class="realme-card p-4 flex justify-between items-center border-l-4 border-[#ffc915]">
                    <span class="text-xs font-bold uppercase">${item.n}</span>
                    <span class="text-xs text-[#ffc915]">${item.v}m</span>
                </div>`;
            });
            updateChart(total);
        }

        function updateChart(total) {
            const ctx = document.getElementById('chart').getContext('2d');
            if(chart) chart.destroy();
            chart = new Chart(ctx, {
                type: 'doughnut',
                data: { datasets: [{ data: [...data.map(a => a.v), 1440-total], backgroundColor: [...data.map(() => '#ffc915'), '#222'], borderWidth: 0 }] },
                options: { cutout: '80%', plugins: { legend: { display: false } } }
            });
        }
        updateChart(0);
    </script>
</body>
</html>
